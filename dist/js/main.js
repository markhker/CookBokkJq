$(function(){$(".disabled").prop("disabled",true);$("#previewInstructions").hide();$("#previewAbout").hide();$("#btnIng").prop("disabled",true);$("#btnIng").click(function(e){e.preventDefault();$("#btnIng").addClass("active");$("#btnIng").prop("disabled",true);$("#previewInstructions").fadeOut();$("#previewAbout").fadeOut();$("#previewIngredients").fadeIn();$("#btnInst").removeClass("active").prop("disabled",false);$("#btnAbout").removeClass("active").prop("disabled",false)});$("#btnInst").click(function(e){e.preventDefault();$("#btnInst").addClass("active");$("#btnInst").prop("disabled",true);$("#previewIngredients").fadeOut();$("#previewAbout").fadeOut();$("#previewInstructions").fadeIn();$("#btnIng").removeClass("active").prop("disabled",false);$("#btnAbout").removeClass("active").prop("disabled",false)});$("#btnAbout").click(function(e){e.preventDefault();$("#btnAbout").addClass("active");$("#btnAbout").prop("disabled",true);$("#previewIngredients").fadeOut();$("#previewInstructions").fadeOut();$("#previewAbout").fadeIn();$("#btnIng").removeClass("active").prop("disabled",false);$("#btnInst").removeClass("active").prop("disabled",false)});$("#acceptance").keypress(function(){if($("#acceptance").val()){$(".next").prop("disabled",false).removeClass("disabled")}});$("#acceptance").change(function(){if(!$("#acceptance").val()){$(".next").prop("disabled",true).addClass("disabled")}});$.fn.serializeObject=function(){var e={};var i=this.serializeArray();$.each(i,function(){if(e[this.name]!==undefined){if(!e[this.name].push){e[this.name]=[e[this.name]]}e[this.name].push(this.value||"")}else{e[this.name]=this.value||""}});return e};$("#loginForm").bind("submit",function(e){$.ajax({url:"/loginForm",type:"post",contentType:"application/json",data:JSON.stringify($("#loginForm").serializeObject()),success:function(){console.log("success");window.location="/upload"},error:function(e,i,t){console.log(e.responseText)}});return false});var e=1;$("#addIng-1").click(function(i){i.preventDefault();$("#loi-1").append('<input type="text" class="input" id="recipeIngredient_'+e+'" name="recipeIngredient_'+e+'" placeholder="Example: 1 cup of flour">')});var i=2;$("#addIng-2").click(function(e){e.preventDefault();$("#loi-2").append('<input type="text" class="input" id="recipeIngredient_'+i+'" name="recipeIngredient_'+i+'" placeholder="Example: 8oz chocolate chips">')});var t=3;var a=4;var n=5;function l(){$("#addIng-3").click(function(e){e.preventDefault();$("#loi-3").append('<input type="text" class="input" id="recipeIngredient_'+t+'" name="recipeIngredient_'+t+'" placeholder="Example: 8oz chocolate chips">')})}function s(){$("#addIng-4").click(function(e){e.preventDefault();$("#loi-4").append('<input type="text" class="input" id="recipeIngredient_'+a+'" name="recipeIngredient_'+a+'" placeholder="Example: 8oz chocolate chips">')})}function p(){$("#addIng-5").click(function(e){e.preventDefault();$("#loi-5").append('<input type="text" class="input" id="recipeIngredient_'+n+'" name="recipeIngredient_'+n+'" placeholder="Example: 8oz chocolate chips">')})}var r=3;$("#addSetIng").click(function(e){e.preventDefault();if(r==3){$("#dividerForm").append('<div class="divPartForm coll1024"><div class="formGroup lister" id="ingredients"><label for="setIngredient_'+r+'" class="label ing">3<sup>rd</sup> set of Ingredients:</label><div class="setOfIngredients"><input type="text" class="input" id="setIngredient_'+r+'" name="setIngredient_'+r+'" placeholder="Example: Cake"></div></div><div class="formGroup lister" id="ingredients"><label for="recipeIngredient_'+r+'" class="label">List:</label><div class="listOfIngredients" id="loi-'+r+'"><input type="text" class="input" id="recipeIngredient_'+r+'" name="recipeIngredient_'+r+'" placeholder="Example: 1 cup of flour"></div><p><a href="#!" class="addIngredient" id="addIng-'+r+'">+Add ingredient</a></p></div></div>');l()}else if(r==4){$("#dividerForm").append('<div class="divPartForm coll1024"><div class="formGroup lister" id="ingredients"><label for="setIngredient_'+r+'" class="label ing">4<sup>th</sup> set of Ingredients:</label><div class="setOfIngredients"><input type="text" class="input" id="setIngredient_'+r+'" name="setIngredient_'+r+'" placeholder="Example: Cake"></div></div><div class="formGroup lister" id="ingredients"><label for="recipeIngredient_'+r+'" class="label">List:</label><div class="listOfIngredients" id="loi-'+r+'"><input type="text" class="input" id="recipeIngredient_'+r+'" name="recipeIngredient_'+r+'" placeholder="Example: 1 cup of flour"></div><p><a href="#!" class="addIngredient" id="addIng-'+r+'">+Add ingredient</a></p></div></div>');s()}else if(r==5){$("#dividerForm").append('<div class="divPartForm coll1024"><div class="formGroup lister" id="ingredients"><label for="setIngredient_'+r+'" class="label ing">5<sup>th</sup> set of Ingredients:</label><div class="setOfIngredients"><input type="text" class="input" id="setIngredient_'+r+'" name="setIngredient_'+r+'" placeholder="Example: Cake"></div></div><div class="formGroup lister" id="ingredients"><label for="recipeIngredient_'+r+'" class="label">List:</label><div class="listOfIngredients" id="loi-'+r+'"><input type="text" class="input" id="recipeIngredient_'+r+'" name="recipeIngredient_'+r+'" placeholder="Example: 1 cup of flour"></div><p><a href="#!" class="addIngredient" id="addIng-'+r+'">+Add ingredient</a></p></div></div>');p()}r++;if(r===6){$(this).hide()}});var d=2;$("#addStep-1").click(function(e){e.preventDefault();$("#los-1").append('<div class="wrapSteps"><label for="recipeStep_1" class="label ing">'+d+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_1" name="recipeStep_1" placeholder="Example: Mix the ingredients..."></div></div>');d++});var c=2;$("#addStep-2").click(function(e){e.preventDefault();$("#los-2").append('<div class="wrapSteps"><label for="recipeStep_2" class="label ing">'+c+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_2" name="recipeStep_2" placeholder="Example: Mix the ingredients..."></div></div>');c++});var o=2;var u=2;var f=2;function v(){$("#addStep-3").click(function(e){e.preventDefault();$("#los-3").append('<div class="wrapSteps"><label for="recipeStep_3" class="label ing">'+o+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_3" name="recipeStep_3" placeholder="Example: Mix the ingredients..."></div></div>');o++})}function g(){$("#addStep-4").click(function(e){e.preventDefault();$("#los-4").append('<div class="wrapSteps"><label for="recipeStep_4" class="label ing">'+u+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_4" name="recipeStep_4" placeholder="Example: Mix the ingredients..."></div></div>');u++})}function m(){$("#addStep-5").click(function(e){e.preventDefault();$("#los-5").append('<div class="wrapSteps"><label for="recipeStep_5" class="label ing">'+f+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_5" name="recipeStep_5" placeholder="Example: Mix the ingredients..."></div></div>');f++})}var b=3;$("#addSetSteps").click(function(e){e.preventDefault();$("#instructionsSets").append('<div class="formGroup lister"><label for="recipeMethod_'+b+'" class="label ing">Instructions for Set '+b+':</label><div class="instructions"><input type="text" class="input" id="recipeMethod_'+b+'" name="recipeMethod_'+b+'" placeholder="Example: Icing"></div></div><h3 class="steps">Steps:</h3><div class="formGroup lister itemStep" id="los-'+b+'"><div class="wrapSteps"><label for="recipeStep_'+b+'" class="label ing">1.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_'+b+'" name="recipeStep_'+b+'" placeholder="Example: Warm chocolate chips..."></div></div></div><p><a href="#!" class="addStep" id="addStep-'+b+'">+Add step</a></p>');if(b==3){v()}else if(b==4){g()}else if(b==5){m()}b++;if(b===6){$(this).hide()}});$("#uploadRecipe").bind("submit",function(e){$.ajax({url:"/uploadRecipe",type:"post",contentType:"application/json",data:JSON.stringify($("#uploadRecipe").serializeObject()),success:function(){console.log("success");window.location="/preview"},error:function(){console.log("failed")}});return false});$("#mainSender").click(function(e){e.preventDefault();window.location="/thanks"});$("#editSender").click(function(e){e.preventDefault();window.location="/edit"})});$(function(){var e,i;$("#portImage").cropit({exportZoom:2,imageState:{src:"https://s3-us-west-2.amazonaws.com/elasticbeanstalk-us-west-2-524253160393/images/create/waiter.png"},type:"image/jpeg",quality:.9});$("#rotate2").click(function(){$("#portImage").cropit("rotateCW")});$("#rotate1").click(function(){$("#portImage").cropit("rotateCCW")});$("#uploadMain").click(function(i){i.preventDefault();e=$("#portImage").cropit("export",{type:"image/jpeg",quality:.9});$.ajax({url:"/post-image",type:"post",contentType:"application/x-www-form-urlencoded",data:{imageBinary:e},success:function(){console.log("success")},error:function(){console.log("failed")}});return false});$("#uploadMain").prop("disabled",true);$("#uploadUser").prop("disabled",true);$("#uploadMain").click(function(){$("#uploadMain").prop("disabled",true).addClass("disabled")});$("#uploadUser").click(function(){$("#uploadUser").prop("disabled",true).addClass("disabled")});$("#plusOne").click(function(){$("#fileUploadMain").click();$("#uploadMain").prop("disabled",false).removeClass("disabled")});$("#plusUser").click(function(){$("#fileUploadUser").click();$("#uploadUser").prop("disabled",false).removeClass("disabled")});$("#imageUser").cropit({exportZoom:1.25,imageState:{src:"https://s3-us-west-2.amazonaws.com/elasticbeanstalk-us-west-2-524253160393/images/create/user.png"},type:"image/jpeg",quality:.9});$("#rotate4").click(function(){$("#imageUser").cropit("rotateCW")});$("#rotate3").click(function(){$("#imageUser").cropit("rotateCCW")});$("#uploadUser").click(function(e){e.preventDefault();i=$("#imageUser").cropit("export",{type:"image/jpeg",quality:.9});$.ajax({url:"/post-image-user",type:"post",contentType:"application/x-www-form-urlencoded",data:{imageBinary:i},success:function(){console.log("success")},error:function(){console.log("failed")}});return false})});