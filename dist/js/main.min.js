$(function(){function e(){$("#addIng-3").click(function(e){e.preventDefault(),$("#loi-3").append('<input type="text" class="input" id="recipeIngredient_'+d+'" name="recipeIngredient_'+d+'" placeholder="Example: 8oz chocolate chips">')})}function i(){$("#addIng-4").click(function(e){e.preventDefault(),$("#loi-4").append('<input type="text" class="input" id="recipeIngredient_'+c+'" name="recipeIngredient_'+c+'" placeholder="Example: 8oz chocolate chips">')})}function t(){$("#addIng-5").click(function(e){e.preventDefault(),$("#loi-5").append('<input type="text" class="input" id="recipeIngredient_'+r+'" name="recipeIngredient_'+r+'" placeholder="Example: 8oz chocolate chips">')})}function n(){$("#addStep-3").click(function(e){e.preventDefault(),$("#los-3").append('<div class="wrapSteps"><label for="recipeStep_3" class="label ing">'+v+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_3" name="recipeStep_3" placeholder="Example: Mix the ingredients..."></div></div>'),v++})}function a(){$("#addStep-4").click(function(e){e.preventDefault(),$("#los-4").append('<div class="wrapSteps"><label for="recipeStep_4" class="label ing">'+g+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_4" name="recipeStep_4" placeholder="Example: Mix the ingredients..."></div></div>'),g++})}function l(){$("#addStep-5").click(function(e){e.preventDefault(),$("#los-5").append('<div class="wrapSteps"><label for="recipeStep_5" class="label ing">'+b+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_5" name="recipeStep_5" placeholder="Example: Mix the ingredients..."></div></div>'),b++})}$(".disabled").prop("disabled",!0),$("#previewInstructions").hide(),$("#previewAbout").hide(),$("#btnIng").prop("disabled",!0),$("#btnIng").click(function(e){e.preventDefault(),$("#btnIng").addClass("active"),$("#btnIng").prop("disabled",!0),$("#previewInstructions").fadeOut(),$("#previewAbout").fadeOut(),$("#previewIngredients").fadeIn(),$("#btnInst").removeClass("active").prop("disabled",!1),$("#btnAbout").removeClass("active").prop("disabled",!1)}),$("#btnInst").click(function(e){e.preventDefault(),$("#btnInst").addClass("active"),$("#btnInst").prop("disabled",!0),$("#previewIngredients").fadeOut(),$("#previewAbout").fadeOut(),$("#previewInstructions").fadeIn(),$("#btnIng").removeClass("active").prop("disabled",!1),$("#btnAbout").removeClass("active").prop("disabled",!1)}),$("#btnAbout").click(function(e){e.preventDefault(),$("#btnAbout").addClass("active"),$("#btnAbout").prop("disabled",!0),$("#previewIngredients").fadeOut(),$("#previewInstructions").fadeOut(),$("#previewAbout").fadeIn(),$("#btnIng").removeClass("active").prop("disabled",!1),$("#btnInst").removeClass("active").prop("disabled",!1)}),$("#acceptance").keypress(function(){$("#acceptance").val()&&$(".next").prop("disabled",!1).removeClass("disabled")}),$("#acceptance").change(function(){$("#acceptance").val()||$(".next").prop("disabled",!0).addClass("disabled")}),$.fn.serializeObject=function(){var e={},i=this.serializeArray();return $.each(i,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},$("#loginForm").bind("submit",function(e){return $.ajax({url:"/loginForm",type:"post",contentType:"application/json",data:JSON.stringify($("#loginForm").serializeObject()),success:function(){console.log("success"),window.location="/upload"},error:function(e,i,t){console.log(e.responseText)}}),!1});var s=1;$("#addIng-1").click(function(e){e.preventDefault(),$("#loi-1").append('<input type="text" class="input" id="recipeIngredient_'+s+'" name="recipeIngredient_'+s+'" placeholder="Example: 1 cup of flour">')});var p=2;$("#addIng-2").click(function(e){e.preventDefault(),$("#loi-2").append('<input type="text" class="input" id="recipeIngredient_'+p+'" name="recipeIngredient_'+p+'" placeholder="Example: 8oz chocolate chips">')});var d=3,c=4,r=5,o=3;$("#addSetIng").click(function(n){n.preventDefault(),3==o?($("#dividerForm").append('<div class="divPartForm coll1024"><div class="formGroup lister" id="ingredients"><label for="setIngredient_'+o+'" class="label ing">3<sup>rd</sup> set of Ingredients:</label><div class="setOfIngredients"><input type="text" class="input" id="setIngredient_'+o+'" name="setIngredient_'+o+'" placeholder="Example: Cake"></div></div><div class="formGroup lister" id="ingredients"><label for="recipeIngredient_'+o+'" class="label">List:</label><div class="listOfIngredients" id="loi-'+o+'"><input type="text" class="input" id="recipeIngredient_'+o+'" name="recipeIngredient_'+o+'" placeholder="Example: 1 cup of flour"></div><p><a href="#!" class="addIngredient" id="addIng-'+o+'">+Add ingredient</a></p></div></div>'),e()):4==o?($("#dividerForm").append('<div class="divPartForm coll1024"><div class="formGroup lister" id="ingredients"><label for="setIngredient_'+o+'" class="label ing">4<sup>th</sup> set of Ingredients:</label><div class="setOfIngredients"><input type="text" class="input" id="setIngredient_'+o+'" name="setIngredient_'+o+'" placeholder="Example: Cake"></div></div><div class="formGroup lister" id="ingredients"><label for="recipeIngredient_'+o+'" class="label">List:</label><div class="listOfIngredients" id="loi-'+o+'"><input type="text" class="input" id="recipeIngredient_'+o+'" name="recipeIngredient_'+o+'" placeholder="Example: 1 cup of flour"></div><p><a href="#!" class="addIngredient" id="addIng-'+o+'">+Add ingredient</a></p></div></div>'),i()):5==o&&($("#dividerForm").append('<div class="divPartForm coll1024"><div class="formGroup lister" id="ingredients"><label for="setIngredient_'+o+'" class="label ing">5<sup>th</sup> set of Ingredients:</label><div class="setOfIngredients"><input type="text" class="input" id="setIngredient_'+o+'" name="setIngredient_'+o+'" placeholder="Example: Cake"></div></div><div class="formGroup lister" id="ingredients"><label for="recipeIngredient_'+o+'" class="label">List:</label><div class="listOfIngredients" id="loi-'+o+'"><input type="text" class="input" id="recipeIngredient_'+o+'" name="recipeIngredient_'+o+'" placeholder="Example: 1 cup of flour"></div><p><a href="#!" class="addIngredient" id="addIng-'+o+'">+Add ingredient</a></p></div></div>'),t()),o++,6===o&&$(this).hide()});var u=2;$("#addStep-1").click(function(e){e.preventDefault(),$("#los-1").append('<div class="wrapSteps"><label for="recipeStep_1" class="label ing">'+u+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_1" name="recipeStep_1" placeholder="Example: Mix the ingredients..."></div></div>'),u++});var f=2;$("#addStep-2").click(function(e){e.preventDefault(),$("#los-2").append('<div class="wrapSteps"><label for="recipeStep_2" class="label ing">'+f+'.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_2" name="recipeStep_2" placeholder="Example: Mix the ingredients..."></div></div>'),f++});var v=2,g=2,b=2,m=3;$("#addSetSteps").click(function(e){e.preventDefault(),$("#instructionsSets").append('<div class="formGroup lister"><label for="recipeMethod_'+m+'" class="label ing">Instructions for Set '+m+':</label><div class="instructions"><input type="text" class="input" id="recipeMethod_'+m+'" name="recipeMethod_'+m+'" placeholder="Example: Icing"></div></div><h3 class="steps">Steps:</h3><div class="formGroup lister itemStep" id="los-'+m+'"><div class="wrapSteps"><label for="recipeStep_'+m+'" class="label ing">1.</label><div class="listOfSteps"><input type="text" class="input" id="recipeStep_'+m+'" name="recipeStep_'+m+'" placeholder="Example: Warm chocolate chips..."></div></div></div><p><a href="#!" class="addStep" id="addStep-'+m+'">+Add step</a></p>'),3==m?n():4==m?a():5==m&&l(),m++,6===m&&$(this).hide()}),$("#uploadRecipe").bind("submit",function(e){return $.ajax({url:"/uploadRecipe",type:"post",contentType:"application/json",data:JSON.stringify($("#uploadRecipe").serializeObject()),success:function(){console.log("success"),window.location="/preview"},error:function(){console.log("failed")}}),!1}),$("#mainSender").click(function(e){e.preventDefault(),window.location="/thanks"}),$("#editSender").click(function(e){e.preventDefault(),window.location="/edit"})}),$(function(){var e,i;$("#rotate2").click(function(){$("#portImage").cropit("rotateCW")}),$("#rotate1").click(function(){$("#portImage").cropit("rotateCCW")}),$("#uploadMain").click(function(i){return i.preventDefault(),e=$("#portImage").cropit("export",{type:"image/jpeg",quality:.9}),$.ajax({url:"/post-image",type:"post",contentType:"application/x-www-form-urlencoded",data:{imageBinary:e},success:function(){console.log("success")},error:function(){console.log("failed")}}),!1}),$("#uploadMain").prop("disabled",!0),$("#uploadUser").prop("disabled",!0),$("#uploadMain").click(function(){$("#uploadMain").prop("disabled",!0).addClass("disabled")}),$("#uploadUser").click(function(){$("#uploadUser").prop("disabled",!0).addClass("disabled")}),$("#plusOne").click(function(){$("#fileUploadMain").click(),$("#uploadMain").prop("disabled",!1).removeClass("disabled")}),$("#plusUser").click(function(){$("#fileUploadUser").click(),$("#uploadUser").prop("disabled",!1).removeClass("disabled")}),$("#rotate4").click(function(){$("#imageUser").cropit("rotateCW")}),$("#rotate3").click(function(){$("#imageUser").cropit("rotateCCW")}),$("#uploadUser").click(function(e){return e.preventDefault(),i=$("#imageUser").cropit("export",{type:"image/jpeg",quality:.9}),$.ajax({url:"/post-image-user",type:"post",contentType:"application/x-www-form-urlencoded",data:{imageBinary:i},success:function(){console.log("success")},error:function(){console.log("failed")}}),!1})});